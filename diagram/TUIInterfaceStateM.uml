@startuml

usecase moving as "moving
--
movement keys - move"

usecase loot as "loot
--
f - take item and put to inventory
z - take all"

usecase loot_inventory as "loot & inventory
--
f - take replace focused item
z - take all unequiped"

usecase open_inventory as "open_inventory
--
e - un/equip item"

(moving) --> (choose spell) : 'f'

(moving) --> (loot) : move to object
(loot) --> (moving) : 'q'
(loot) <--> (loot_inventory) : 'i'
(loot) --> (choose target for item) : 'u' - use,\n't' - throw
(choose target for item) --> (loot) : 'q'
(loot_inventory) --> (moving) : 'q'
(loot_inventory) --> (choose target for item) : 'u' - use,\n't' - throw
(choose target for item) --> (loot_inventory) : 'q'

(moving) --> (open_inventory) : 'i'
(open_inventory) --> (moving) : 'q'

(open_inventory) --> (choose target for item) : 'u' - use,\n't' - throw
(choose target for item) --> (open_inventory) : 'q'

(moving) --> (spell shop) : 'p'
(spell shop) --> (moving) : 'q'

(choose spell) --> (spell help) : 'h'
(spell help) --> (choose spell) : 'q'

(spell shop) --> (spell help) : 'h'
(spell help) --> (spell shop) : 'q'

(choose target for item) --> (moving) : 'f' - use item

(choose spell) --> (choose target for spell) : 'f'
(choose target for spell) --> (choose spell) : 'q/r'
(choose target for spell) --> (moving) : 'f' - use spell

(choose spell) --> (moving) : 'q'

(moving) --> (observe) : 'o'
(observe) --> (lookup) : 'f'
(lookup) --> (observe) : 'q'
(observe) --> (moving) : 'q'

@enduml
